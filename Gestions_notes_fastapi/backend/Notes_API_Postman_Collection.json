{
	"info": {
		"_postman_id": "12345678-1234-1234-1234-123456789012",
		"name": "Notes Management API",
		"description": "Collection compl√®te pour tester l'API de gestion des notes avec authentification JWT",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "üîê Authentication",
			"item": [
				{
					"name": "Register - Inscription",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"test@example.com\",\n  \"mot_de_passe\": \"motdepasse123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login - Connexion",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    if (response.access_token) {",
									"        pm.environment.set('access_token', response.access_token);",
									"        pm.test('Token saved to environment', function () {",
									"            pm.expect(pm.environment.get('access_token')).to.not.be.undefined;",
									"        });",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"test@example.com\",\n  \"mot_de_passe\": \"motdepasse123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"login"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üìù Notes Management",
			"item": [
				{
					"name": "Create Note - Cr√©er une note",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"titre\": \"Ma premi√®re note\",\n  \"contenu\": \"# Titre de ma note\\n\\nCeci est le contenu en **Markdown** de ma note.\\n\\n- Point 1\\n- Point 2\\n\\n```python\\nprint('Hello World!')\\n```\",\n  \"visibilite\": \"prive\",\n  \"tags\": [\"travail\", \"important\", \"todo\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/notes/notes/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"notes",
								"notes",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Shared Note - Cr√©er note partag√©e",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"titre\": \"Note partag√©e\",\n  \"contenu\": \"Cette note peut √™tre **partag√©e** avec d'autres utilisateurs.\\n\\n## Fonctionnalit√©s\\n- Partage s√©curis√©\\n- Collaboration\\n- Historique des modifications\",\n  \"visibilite\": \"partage\",\n  \"tags\": [\"partage\", \"collaboration\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/notes/notes/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"notes",
								"notes",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Public Note - Cr√©er note publique",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"titre\": \"Article de blog public\",\n  \"contenu\": \"# Comment utiliser cette API\\n\\nCette note est **publique** et accessible √† tous.\\n\\n## Avantages\\n1. Accessibilit√© universelle\\n2. R√©f√©rencement possible\\n3. Partage facile\\n\\n### Code exemple\\n```javascript\\nfetch('/api/v1/notes/public/TOKEN')\\n  .then(response => response.json())\\n  .then(data => console.log(data));\\n```\",\n  \"visibilite\": \"public\",\n  \"tags\": [\"public\", \"blog\", \"documentation\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/notes/notes/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"notes",
								"notes",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Get My Notes - R√©cup√©rer mes notes",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/notes/notes/?skip=0&limit=10",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"notes",
								"notes",
								""
							],
							"query": [
								{
									"key": "skip",
									"value": "0",
									"description": "Nombre d'√©l√©ments √† ignorer"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Nombre d'√©l√©ments √† retourner"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Note by ID - R√©cup√©rer une note",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/notes/notes/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"notes",
								"notes",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Note - Modifier une note",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"titre\": \"Titre modifi√©\",\n  \"contenu\": \"# Contenu mis √† jour\\n\\nCette note a √©t√© **modifi√©e** avec succ√®s.\\n\\n## Nouvelles informations\\n- Modification 1\\n- Modification 2\\n\\n> Note: Cette modification a √©t√© effectu√©e via l'API\",\n  \"visibilite\": \"partage\",\n  \"tags\": [\"modifi√©\", \"urgent\", \"mise-√†-jour\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/notes/notes/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"notes",
								"notes",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Note - Supprimer une note",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/notes/notes/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"notes",
								"notes",
								"1"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üîç Search",
			"item": [
				{
					"name": "Search Notes - Rechercher dans mes notes",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/notes/notes/search/?query=markdown&skip=0&limit=10",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"notes",
								"notes",
								"search",
								""
							],
							"query": [
								{
									"key": "query",
									"value": "markdown",
									"description": "Terme de recherche"
								},
								{
									"key": "skip",
									"value": "0"
								},
								{
									"key": "limit",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Search by Tag - Rechercher par tag",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/search/tags?tag=travail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"search",
								"tags"
							],
							"query": [
								{
									"key": "tag",
									"value": "travail"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "ü§ù Sharing",
			"item": [
				{
					"name": "Get Public Note - R√©cup√©rer note publique",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/sharing/public/TOKEN_PUBLIQUE_ICI",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"sharing",
								"public",
								"TOKEN_PUBLIQUE_ICI"
							]
						}
					},
					"response": []
				},
				{
					"name": "Share Note - Partager une note",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"note_id\": 1,\n  \"email_destinataire\": \"destinataire@example.com\",\n  \"permission\": \"lecture\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/sharing/share",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"sharing",
								"share"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üè• Health Check",
			"item": [
				{
					"name": "Root - Test API",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Health Check - Sant√© de l'API",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/health",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"health"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string"
		},
		{
			"key": "access_token",
			"value": "",
			"type": "string"
		}
	]
}
